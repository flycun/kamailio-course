# Dispatcher故障转移路由
# 当使用dispatcher转发失败时触发，实现负载均衡器的故障转移
failure_route[FAILED_DISPATCH] {
    # 记录故障转移日志
    xlog("L_INFO", "FAILED_DISPATCH | Entry failed, attempting next dispatch entry\n");
    
    # 选择下一个dispatcher目标
    # ds_next_dst()会从dispatcher列表中选择下一个可用目标
    ds_next_dst();
    
    # 重新调用RELAY路由进行转发
    route(RELAY);
}