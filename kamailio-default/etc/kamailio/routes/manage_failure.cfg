# 管理失败路由情况
# 当SIP事务处理失败时触发此路由，用于故障处理和恢复
failure_route[MANAGE_FAILURE] {
	# 检查事务是否被取消，如果被取消则直接退出
	if (t_is_canceled()) exit;

	# 如果启用了RTJSON_INBOUND宏定义
	#!ifdef RTJSON_INBOUND
		# 尝试获取下一个RTJSON路由
		# 如果有可用路由，则重新调用RELAY路由进行转发
		# 实现基于RTJSON的故障转移
        if (rtjson_next_route()) {
            route(RELAY);
            exit;
        }
	#!endif
}